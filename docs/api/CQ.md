
# 机器人操作


:::tip
Lua调用参数与响应数据均按照文档的从上到下顺序排列，调用响应结果如果带有错误信息的均需要判断是否为nil
:::

## CQ.at
@某人(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.audio
语音(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|文件路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.clearCodeUrl
清空消息的图片URL

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||


## CQ.clearCqCode
清空消息的CQ码

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||


## CQ.createGroupFileFolder
创建群文件目录

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|目录名称||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.deleteFriend
删除好友

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.deleteMsg
撤回消息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|消息ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.deleteUnidirectionalFriend
删除单向好友

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.face
表情(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|表情ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.findImage
找到内容的第一个图片CQ码

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|图片信息<br/>tag=标签<br/>params=参数||


## CQ.getFriendList
获取好友列表


> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|好友列表||
|string|错误信息||


## CQ.getGroupAtAllSize
获取@全体成员次数

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|剩余信息<br/>canAtAll<br/>allSize<br/>robotSize||
|string|错误信息||


## CQ.getGroupHonorInfo
获取群荣誉

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|荣誉类型||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|荣誉信息||
|string|错误信息||


## CQ.getGroupInfo
获取群信息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|群信息||
|string|错误信息||


## CQ.getGroupList
获取群列表

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|boolean|是否刷新缓存||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|群列表||
|string|错误信息||


## CQ.getGroupMemberInfo
获取群成员信息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||
|boolean|是否刷新缓存||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|群成员信息||
|string|错误信息||


## CQ.getGroupMemberList
获取群成员列表

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|boolean|是否刷新缓存||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|群成员列表||
|string|错误信息||


## CQ.getGroupNotice
获取群公告



::: warning
函数暂未实现
:::


## CQ.getImageUrl
获取指定图片内容的URL地址

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|字符串||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|图片地址||


## CQ.getMsg
获取消息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|消息ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|消息数据||
|string|错误信息||


## CQ.getSelfInfo
获取个人账户信息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|boolean|是否刷新缓存||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|账户信息<br/>nickname=昵称<br/>userId=账号<br/>avatar=头像||


## CQ.getText
清空所有CQ码,仅保留文字

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|内容||


## CQ.getUnidirectionalFriendList
获取单向好友列表


> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|单向好友列表||
|string|错误信息||


## CQ.getUserInfo
获取陌生人信息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|boolean|是否刷新缓存||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|陌生人信息||
|string|错误信息||


## CQ.gift
礼物(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|int64|礼物ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.groupAvatar
获取QQ用户头像地址(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ群号||
|boolean|是否高清||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.groupAvatarUrl
获取QQ群头像地址

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ群号||
|boolean|是否高清||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|图片地址||


## CQ.groupLeave
退出群组

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.groupSign
群签到

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.image
图片(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|文件路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.isImage
判断整个文本是否是图片CQ码

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|boolean|值||


## CQ.music
音乐分享(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|音乐类型||
|int64|音乐类型对应音乐ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.musicCustom
自定义音乐分享(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|音乐标题||
|string|音频地址||
|string|文件名称||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.ocrImage
OCR图片识别

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|识别内容原始JSON||
|string|错误信息||


## CQ.ocrImageText
OCR图片识别

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|识别内容||
|string|错误信息||


## CQ.parseCqCodeAll
解析整个消息为数组Table

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|结果数组<br/>tag=标签<br/>raw=原始内容<br/>params=参数||


## CQ.parseQQ
解析@的CQ码为QQ号码

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|@的CQ码消息||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||


## CQ.poke
戳一戳(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.sendGroupForwardMsg
发送群消息合并转发

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|table|合并转发结构数组<br/>id=ID<br/>name=昵称<br/>uin=QQ号<br/>content=内容<br/>time=秒级时间戳||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|转发结果<br/>forwardId=转发ID<br/>msgId=消息ID||
|string|错误信息||


## CQ.sendGroupMsg
发送群消息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|int64|消息ID||


## CQ.sendGroupNotice
发送群公告

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|公告内容||
|string|公告图片路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.sendPrivateForwardMsg
发送群消息合并转发

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|table|合并转发结构数组<br/>id=ID<br/>name=昵称<br/>uin=QQ号<br/>content=内容<br/>time=秒级时间戳||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|table|转发结果<br/>forwardId=转发ID<br/>msgId=消息ID||
|string|错误信息||


## CQ.sendPrivateMsg
发送群消息

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|string|消息内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|int64|消息ID||


## CQ.setFriendAddRequest
设置好友请求操作

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|boolean|是否同意||
|string|flag字段||
|string|备注||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupAddRequest
设置群请求操作

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|boolean|是否同意||
|string|subType||
|string|flag字段||
|string|备注||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupAdmin
设置群管理员

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||
|boolean|是否设置管理员||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupAllBan
设置群全体禁言

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|boolean|是否禁言||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupAvatar
设置群头像

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|图片路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupCard
设置群名片

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||
|string|群名片||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupKick
踢出群成员

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupMemberBan
设置群成员禁言

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||
|boolean|是否禁言||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupName
设置群名称

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|群名称||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setGroupTitle
设置群头衔

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|int64|QQ号||
|string|群头衔||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setMsgRead
标记消息已读

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|消息ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.setQQProfile
修改个人资料

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|table|资料<br/>nickname=昵称<br/>company=公司<br/>email=邮箱<br/>college=学校<br/>personal_note=个人说明||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.share
自定义分享(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|标题||
|string|URL||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.tts
自带语音合成(可能无效)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|文本内容||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.uploadGroupFile
上传群文件

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|文件名称||
|string|文件路径||
|string|目录ID||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.uploadPrivateFile
上传私聊文件

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|群号||
|string|文件路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|错误信息||


## CQ.userAvatar
获取QQ用户头像地址(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|boolean|是否高清||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||


## CQ.userAvatarUrl
获取QQ用户头像地址

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|int64|QQ号||
|boolean|是否高清||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|图片地址||


## CQ.video
视频(CQ码)

> 调用参数

|数据类型|说明|示例值|
|----|----|----|
|string|文件路径||

> 响应数据

|数据类型|说明|示例值|
|----|----|----|
|string|CQ码||

